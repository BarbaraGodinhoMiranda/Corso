<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
img {
    display: none;
}

    </style>
<script>

    function remove(){
    var nodo = document.getElementById("result");
    while (nodo.firstChild) {
        nodo.removeChild(nodo.firstChild);
    }
   
}
let prezzo = 0;

//mettere il remove dentro della funzione scegli
function scegli(){

    let Macchina = document.getElementById("Macchina").value;
    let categ = document.getElementById("categ").value;
    
    if (Macchina == "audi"){
        prezzo = 20000;
    }
    if (Macchina == "Vw"){
        prezzo = 18000;
    }
    if (Macchina == "kia"){
        prezzo = 19000;
    }
    if (Macchina == "ygox"){
        prezzo = 16000;
    }
    
    if (categ == "nuova"){
        prezzo = prezzo
    }
    if (categ == "usata"){
        prezzo = prezzo - (prezzo * 35 / 100);
    }
    if (categ == "usatagarantita"){
        prezzo = prezzo - (prezzo * 25 / 100);
    }
    if (categ == "km0"){
        prezzo = prezzo - (prezzo * 10 / 100);
    }


    if (Macchina == "audi"){
        document.getElementById("audi").style.display = "block";
        document.getElementById("Vw").style.display = "none";
        document.getElementById("kia").style.display = "none";
        document.getElementById("ygox").style.display = "none";

        let nodo = document.getElementById("result1");
        nodo.textContent = "Audi  " + prezzo + " euro";
    }
    else if (Macchina == "Vw"){
        document.getElementById("Vw").style.display = "block";
        document.getElementById("audi").style.display = "none";
        document.getElementById("kia").style.display = "none";
        document.getElementById("ygox").style.display = "none";

        let nodo = document.getElementById("result1");
        nodo.textContent = "Volkswagen  " + prezzo + " euro";
    }
    else if (Macchina == "kia"){
        document.getElementById("kia").style.display = "block";
        document.getElementById("audi").style.display = "none";
        document.getElementById("Vw").style.display = "none";
        document.getElementById("ygox").style.display = "none";

        let nodo = document.getElementById("result1");
        nodo.textContent = "Kia  " + prezzo + " euro";
    }
    else if (Macchina == "ygox"){
        document.getElementById("ygox").style.display = "block";
        document.getElementById("audi").style.display = "none";
        document.getElementById("Vw").style.display = "none";
        document.getElementById("kia").style.display = "none";

        let nodo = document.getElementById("result1");
        nodo.textContent = "Ygox  " + prezzo + " euro";
    }

}
function rate() {
    remove();
    let numrate = document.getElementById("rate").value;
    let capital = prezzo; // Importo del prestito in euro
    let annualInterestRate = 3; // Tasso di interesse annuo in percentuale
    let loanTermMonths = numrate; // Durata del prestito in mesi
    // Converti il tasso di interesse annuo in tasso di interesse mensile
    let monthlyInterestRate = (annualInterestRate / 100) / 12;

    // Calcola la rata mensile utilizzando la formula
    let emi = capital * monthlyInterestRate * Math.pow((1 + monthlyInterestRate), loanTermMonths) / (Math.pow((1 + monthlyInterestRate), loanTermMonths) - 1);
    let rata = Math.round(emi);
    let total = rata * numrate;
    let nuovoNodo=document.createElement("h6");
    nuovoNodo.textContent= "la rata in " + numrate + " mesi è di: " + rata + " euro";
    let nodo = document.getElementById("result");
    nodo.appendChild(nuovoNodo);
    let nuovoNodo2=document.createElement("h6")
    nuovoNodo2.textContent= " il valore totale della macchina in " + numrate + " mesi è di: " + total;
    nodo.appendChild(nuovoNodo2);


}

</script>
</head>
<body>
    <h1>Concessionaria</h1>
    <h3>Scegli la macchina per scoprire il pezzo</h3>
    <select  id="Macchina">
   <option value = "">Modello</option>  
   <option value = "audi">Audi</option>
   <option value = "Vw">Volkswagen</option>
   <option value = "kia">Kia</option>
   <option value = "ygox">Ygox</option>

    </select><br><br>
    <h3>Scegli la tipologia</h3>
    <select  id="categ">
        <option value = "">Categoria</option>
        <option value = "usata">Usata</option>
        <option value = "usatagarantita">Usata Garantita</option>
        <option value = "nuova">Nuova</option>
        <option value = "km0">Km 0</option>
     
         </select><br><br><br>
    <button onclick="scegli()">Scegli</button>
<hr>
<hr>
    <div id = "result"></div>
    <div id = "result1"></div>

    <img src="audi.jpg" id = "audi">
    <img src="kia.jpg" id = "kia">
    <img src="ygox.jpg" id = "ygox">
    <img src="ww.jpg" alt="" id = "Vw">

<hr>
<hr>
    <input type="number" id="rate">rate
    <button onclick="rate ()">Paga in rate</button>

</body>
</html>